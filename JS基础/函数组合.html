<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>函数组合</title>
</head>

<body>
    <script>

        // const compose = (...fns) => arg => fns.reduce((composed, f) => f(compose), arg);

        function compose(...funcs) {
            if (funcs.length === 0) {
                return arg => arg
            }

            if (funcs.length === 1) {
                return funcs[0]
            }

            return funcs.reduce((a,b) => {
                return (...args) => a(b(...args))
            })
        }

        const toUpperCase = x => x.toUpperCase();
        const hello = x => 'HELLO, ' + x;

        const upperAndHello = compose(toUpperCase, hello);

        console.log(upperAndHello("zhouyang"));

    </script>
</body>

</html>