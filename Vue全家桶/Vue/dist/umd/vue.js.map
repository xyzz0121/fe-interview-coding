{"version":3,"file":"vue.js","sources":["../../src/util.js","../../src/global-api/index.js","../../src/compiler/generate.js","../../src/compiler/perse.js","../../src/compiler/index.js","../../src/observer/dep.js","../../src/observer/watcher.js","../../src/vdom/patch.js","../../src/lifecycle.js","../../src/observer/array.js","../../src/observer/index.js","../../src/state.js","../../src/init.js","../../src/vdom/index.js","../../src/index.js"],"sourcesContent":["//访问和设置vm，代理到访问和设置vm[data]\nexport function proxy(vm, data, key) {\n    Object.defineProperty(vm, key, {\n        get() {\n            return vm[data][key]\n        },\n        set(newValue) {\n            vm[data][key] = newValue\n        }\n    })\n}\n//添加不可枚举、不可遍历的属性\nexport function defineProperty(data, key, value) {\n    Object.defineProperty(data, key, {\n        enumerable: false, //不可枚举，不能被循环出来，相当于隐藏属性\n        configurable: false,\n        value\n    })\n}\n\n\nexport const LIFECYCLE_HOOKS = [\n    'beforeCreate',\n    'created',\n    'beforeMount',\n    'mounted',\n    'beforeUpdate',\n    'updated',\n    'beforeDestory',\n    'destroyed'\n];\n\n//策略模式\nconst strats = {};\nstrats.data = function(parentVal, childVal){\n    return childVal\n};\nstrats.computed = function(){};\nstrats.watch = function(){};\n//生命周期的合并\nfunction mergeHook(parentVal, childVal){\n    if (childVal) {\n        if (parentVal) {\n            return parentVal.concat(childVal);\n        }else{\n            return [childVal]\n        }\n    }else{ \n        return parentVal\n    }\n}\n//每个生命周期的合并策略都是上面的mergeHook\nLIFECYCLE_HOOKS.forEach(hook => {\n    strats[hook] = mergeHook\n})\n\n//合并选项\nexport function mergeOptions(parent, child) {\n    const options = {};\n    //遍历父亲 可能是父亲有\n    for (const key in parent) {\n        mergeField(key);\n    }\n\n    //父亲没有 儿子有\n    for (const key in child) {\n        if (!parent.hasOwnProperty(key)) {\n            mergeField(key);\n        }\n    }\n\n\n    function mergeField(key){\n        if (strats[key]) {\n            options[key] = strats[key](parent[key], child[key]);\n        }else{\n            options[key] = child[key];\n        }\n    }\n\n    return options;\n}\n\nlet callbacks = [];\nlet pending = false;\nfunction flushCallbacks(){\n    // callbacks.forEach(cb => cb());\n    while (callbacks.length) {\n        let cb = callbacks.pop();\n        cb();\n    }\n    pending = false;\n}\nlet timerFunc;\nif (Promise) {\n    timerFunc = () => {\n        Promise.resolve().then(flushCallbacks);\n    };\n}else if(MutationObserver){\n    let observer = new MutationObserver(flushCallbacks);\n    let textNode = document.createTextNode(1);\n    observer.observe(textNode, { characterData: true });\n    timerFunc = () => {\n        textNode.textContent = 2;\n    }\n}else if(setImmediate){\n    timerFunc = () => {\n        setImmediate(flushCallbacks);\n    }\n}else{\n    timerFunc = () => {\n        setTimeout(flushCallbacks);\n    }\n}\n\nexport function nextTick(cb){\n    callbacks.push(cb);\n    if (!pending) {\n        timerFunc();\n        pending = true;\n    }\n    // Promise.resolve().then();\n}","import { mergeOptions } from \"../util\";\n\nexport function initGlobalApi(Vue){\n    Vue.options = {};\n    Vue.mixin = function(mixin){\n        //合并所有配置项\n        this.options = mergeOptions(this.options, mixin);\n        //我们目标结构是 this.options = {created: [createdA,ceatedB,...]}\n    }\n\n}","//把ast元素的属性，生成render字符串\nfunction genProps(attrs){\n    let str = '' ;\n    attrs.forEach(attr => {\n        if (attr.name === \"style\") { //style比较特殊 进行特殊处理\n            let obj = {};\n            attr.value.split(';').forEach(item => {\n                let [key, value] = item.split(':');\n                obj[key] = value;\n            });\n            attr.value = obj;\n        }\n        str += `${attr.name}:${JSON.stringify(attr.value)},`\n    });\n    return `{${str.slice(0, -1)}}`;  //去掉多余逗号\n}\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n\nfunction gen(node) {\n    if (node.type === 1) {\n        return generate(node);\n    }else{\n        const text = node.text;\n        //如果不存在 {{}} 这种变量\n        if (!defaultTagRE.test(text)) {\n            return `_v(${JSON.stringify(text)})`\n        }\n        //存在的话，用正则一点点把字符串拆开，给变量加上 _s()\n        let tokens = []; //存放每一段代码\n        let lastIndex = defaultTagRE.lastIndex = 0; //全局模式，每次index置为0 , 因为上面执行了一次 defaultTagRE.test 所以政策而index要归位\n        let match, index; // 匹配到的结果\n        while (match = defaultTagRE.exec(text)) {\n            index = match.index;\n            //说明匹配到的结果不是第一个元素，那说明前面这部分是普通字符串\n            if (index > lastIndex) {\n                tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n            }\n            tokens.push(`_s(${match[1].trim()})`);\n            lastIndex = index + match[0].length;\n        }\n        if (lastIndex < text.length) {\n            tokens.push(JSON.stringify(text.slice(lastIndex)));\n        }\n        return `_v(${tokens.join('+')})`;\n\n    }   \n}\n\nfunction genChildren(el) {\n    const children = el.children;\n    if (children) {\n        return children.map(child => gen(child)).join(',')\n    }\n}\n\n//核心就是拼遍历ast，然后生成render函数的字符串\nexport function generate(el) {\n    const children = genChildren(el);\n    // _c: 创建元素  _v: 创建文本  _s: {{}}变量\n    let code = `_c('${el.tag}', ${\n        el.attrs.length ? `${genProps(el.attrs)}` : 'undefined'        //有属性、组合属性字符串\n    }${\n        children ? `, ${children}` : ''\n    })`;\n\n    return code;\n}","//解析html的正则表达式们\nconst unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/;\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\nconst ncname = \"[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z\" + (unicodeRegExp.source) + \"]*\";\nconst qnameCapture = \"((?:\" + ncname + \"\\\\:)?\" + ncname + \")\";\nconst startTagOpen = new RegExp((\"^<\" + qnameCapture));\nconst startTagClose = /^\\s*(\\/?)>/;\nconst endTag = new RegExp((\"^<\\\\/\" + qnameCapture + \"[^>]*>\"));\n\n//html to ast\nexport function parseHTML(html) {\n    function createASTElement(tagName, attrs) {\n        return {\n            tag: tagName,\n            type: 1, //html 元素 type是1\n            children: [],\n            attrs,\n            parent: null\n        }\n    }\n    let root;\n    let currentParent;\n    let stack = []; //用栈 判断标签时候合法\n    function start(tagName, attrs) {\n        let element = createASTElement(tagName, attrs);\n        if (!root) {\n            root = element;\n        }\n        currentParent = element;\n        stack.push(element);\n    }\n\n    function end(tagName) {\n        let element = stack.pop(); //取出栈最后一个 进行比较 看看标签是否配对\n        currentParent = stack[stack.length-1];\n        if (currentParent) { //闭合时知道，当前标签的父子关系\n            element.parent = currentParent;\n            currentParent.children.push(element);\n        }\n    }\n\n    function chars(text) {\n        text = text.replace(/\\s/g, '');\n        if (text) {\n            currentParent.children.push({\n                type: 3,//html 文本 type是3\n                text\n            })\n        }\n    }\n\n    //解析过程 边解析边删除，直到所有解析完成\n    while (html) { //只要Html不空，就一直解析\n        //观察规律，看当前第一个字符是不是 < ，是 < 就一定是一个标签\n        let textEnd = html.indexOf(\"<\");\n        if (textEnd === 0) {\n            //TODO: v-bind :value 等等\n            //先看看是不是开始标签，那么先解析开始标签\n            const startTagMatch = parseStartTag();\n            if (startTagMatch) {\n                start(startTagMatch.tagName, startTagMatch.attrs);\n                continue;\n            }\n            //不是开始标签，就是结束标签\n            const endTagMatch = html.match(endTag);\n            if (endTagMatch) {\n                end(endTagMatch[0]);\n                advance(endTagMatch[0].length);\n                continue;\n            }\n        }\n        let text;\n        //< 位置 大于0 当前字符串是文本\n        if (textEnd > 0) {\n            text = html.substring(0, textEnd);\n        }\n        //有文本 记录文本 删除文本\n        if (text) {\n            advance(text.length);\n            chars(text);\n        }\n    }\n\n    function advance(n) { //截取掉匹配到内容，重新更新html\n        html = html.substring(n);\n    }\n\n    function parseStartTag() {\n        const start = html.match(startTagOpen);\n        if (start) {\n            const match = {\n                tagName: start[1],\n                attrs: []\n            };\n            advance(start[0].length);\n            //开始标签截取完了，该匹配属性了, 好多属性，所以要遍历\n            //如果是开始标签结束了，那么没有属性了，所以先判断 开始标签没有结束\n            let end, attr;\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\n                match.attrs.push({\n                    name: attr[1],\n                    value: attr[3] || attr[4] || attr[5] //属性的三种写法，match出来结果，在数组的不同位置\n                });\n                advance(attr[0].length);\n            }\n            //如果开始标签结束了\n            if (end) {\n                advance(end[0].length);\n                return match;\n            }\n        }\n    }\n    return root;\n}","import { generate } from \"./generate\";\nimport { parseHTML } from \"./perse\";\n\n//把template编译成render函数\nexport function compileToFunctions(template) {\n    //1、html转成AST\n    const ast = parseHTML(template);\n\n    //2、TODO:优化静态节点\n\n    //3、AST重新生成代码\n    const code = generate(ast);\n    \n    //4、把code字符串转化成真正的函数 通过with进行设置取值\n    const render = new Function(`with(this){return ${code}}`);\n\n    return render;\n    \n}","let id = 0;\nclass Dep{\n    constructor(){\n        this.subs = [];\n        this.id = id++;\n    }\n    //get 收集watcher\n    depend(){\n        Dep.target.addDep(this); //实现双向记忆 dep和watcher\n    }\n    //dep 收集watcher\n    addSub(watcher){  \n        this.subs.push(watcher);\n    }\n    //set 执行watcher\n    notify(){\n        this.subs.forEach( watcher => watcher.update() );\n    }\n}\n\nexport default Dep;\n\n\nDep.target = null;\n\nexport function pushTarget(watcher){\n    Dep.target = watcher;  //全局变量保留watcher\n}\n\n\nexport function popTarget(){\n    Dep.target = null; //将变量删除掉\n}\n\n//多对多的关系，每个属性都有一个dep  dep是干嘛的，用来收集watcher 的\n\n//dep 可以存多个watcher 其他的比如还有 vm.$watcher\n//一个watcher可以对应多个dep","import { nextTick } from \"../util\";\nimport { popTarget, pushTarget } from \"./dep\";\n\nlet id = 0;\nclass Watcher{\n    constructor(vm, exprOrFn, cb, options){\n        this.vm = vm; //vm实例\n        this.exprOrFn = exprOrFn; //表达式或者函数 如 vm._update(vm._render);\n        this.cb = cb;\n        this.options = options;\n        this.id = id++;\n        this.deps = [];\n        this.depsId = new Set();\n        if (typeof exprOrFn === 'function') {\n            this.getter = exprOrFn;\n        }\n        this.get(); //默认调用get方法\n    }\n    addDep(dep){\n        let id = dep.id;\n        if (!this.depsId.has(id)) {\n            this.deps.push(dep);\n            this.depsId.add(id);\n            dep.addSub(this);\n        }\n    }\n    get(){ \n        //Dep.target加了一个watcher\n        pushTarget(this); //当前watcher实例\n        this.getter(); //渲染页面就要取值，就要调用get方法\n        popTarget();\n    }\n    run(){\n        this.get();\n    }\n    update(){\n        queueWatcher(this);\n    }\n}\n\nlet queue = [];\nlet has = {};\nlet pending = false;\n\nfunction flushSchedulerQueue(){\n    queue.forEach(watcher => watcher.run());\n    queue = [];\n    has = {};\n    pending = false;\n}\n\nfunction queueWatcher(watcher){\n    const id = watcher.id;\n    if (has[id] == null) {\n        queue.push(watcher);\n        has[id] = true;\n        if (!pending) {\n            nextTick(flushSchedulerQueue);\n            pending = true;\n        }\n    }\n}\n\n\n\nexport default Watcher","export function patch(oldVnode, vnode){\n    //将虚拟dom转化为真实节点 递归创建元素的过程\n    // oldVnode => id#app  vnode => 我们根据模板产生的虚拟dom\n    let el = createElm(vnode); //产生真实dom\n    let parentElm = oldVnode.parentNode; // 获取旧的节点的父亲\n    //为什么insertBefore 保留原来的位置\n    parentElm.insertBefore(el, oldVnode.nextSibiling);//当前真实元素插入到app的后面\n    parentElm.removeChild(oldVnode); //删除旧的节点\n    return el;\n}\n\nfunction createElm(vnode){\n    let { tag, data, key, children, text} = vnode;\n    if (typeof tag === \"string\") { //创建元素，放到vnode.el上\n        vnode.el = document.createElement(tag);\n\n        //只有元素才有属性\n        updateProperties(vnode);\n        children.forEach(child => {\n            vnode.el.appendChild(createElm(child));\n        });\n    }else{ \n        vnode.el = document.createTextNode(text)\n    }\n    return vnode.el;\n}\n\nfunction updateProperties(vnode){\n    let el = vnode.el;\n    let newProps = vnode.data || {};\n\n    for (const key in newProps) {\n        if (key == \"style\") {\n            for (const styleName in newProps.style) {\n                el.style[styleName] = newProps.style[styleName];\n            }\n        }else if(key === \"class\"){\n            el.className = newProps[key];\n        }else{\n            el.setAttribute(key, newProps[key]);\n        }\n    }\n}","import Watcher from \"./observer/watcher\";\nimport { patch } from \"./vdom/patch\";\n\nexport function lifecycleMixin(Vue){\n    Vue.prototype._update = function(vnode){\n        const vm = this;\n        //新创建的替换老的\n        vm.$el = patch(vm.$el, vnode);\n    }\n}\n\nexport function mountComponent(vm, el){ \n    callHook(vm, 'beforeMount');\n    //先调用render方法创建虚拟节点，再将虚拟节点渲染到页面上 vue核心！！！！\n    const updateComponent = () => {\n        vm._update(vm._render());\n    }\n    new Watcher(vm,updateComponent,() => {\n        callHook(vm, 'beforeUpdate');\n    },true)\n    // vm._update(vm._render());\n\n    callHook(vm, 'mounted');\n}\n\nexport function callHook(vm, hook){\n    const handlers = vm.$options[hook];\n    if (handlers) {\n        for (let i = 0; i < handlers.length; i++) {\n            handlers[i].call(vm);\n        }\n    }\n}","/**\n * 重写数组方法\n * 思路：先继承，后重写，用的时候，先找实例\n */\n\nconst oldArrayProtoMethods = Array.prototype;\n\nexport const arrayMethods = Object.create(oldArrayProtoMethods);\n\nconst methods = [\n    \"push\",\n    \"pop\",\n    \"shift\",\n    \"unshift\",\n    \"sort\",\n    \"reverse\",\n    \"splice\",\n];\n//先走自己的逻辑，然后调用原来的逻辑\nmethods.forEach(method => {\n    arrayMethods[method] = function (...args) {\n        \n        const ob = this.__ob__;\n        const result = oldArrayProtoMethods[method].apply(this, args); //this 就是 observer constructor里的data\n        let inserted;\n        //数组增加项，有可能是对象类型，应该再次被观测\n        switch (method) {\n            case \"push\":\n            case \"unshift\":\n                inserted = args;\n                break;\n            case \"splice\":\n                inserted = args.slice(2);\n            default:\n                break;\n        }\n        if (inserted) {\n            ob.observeArray(inserted);\n        }\n        ob.dep.notify();\n        return result;\n    }\n})","import { defineProperty } from \"../util\";\nimport { arrayMethods } from \"./array\";\nimport Dep from \"./dep\";\n\n/**\n * 用 defineProperty 递归把data所有属性都变成响应式\n */\nclass Observer{\n    constructor(data){\n        this.dep = new Dep(); //如果是对象、数组，给对象或者数组本身增加dep（注意不是里面的属性哦，而是整个数组或者对象）\n        //hack骚操作，把observeArray挂在调用函数的this上，在array.js里还可以使用。同时也可以标记对象或者数组已经被观测。\n        defineProperty(data, \"__ob__\", this);\n        //一步一步把defineProperty全都重新定义一下 使原来的对象每个属性发生变化的时候 都能get到，也就是将一个普通对象变成一个响应式对象\n        if (Array.isArray(data)) {\n            //函数劫持 考虑性能原因 不使用defineproperty 选择重新方法\n            data.__proto__ = arrayMethods;\n            //如果数组里嵌套对象，还需要监控对象\n            this.observeArray(data);\n        } else {\n            this.walk(data);\n        }\n    }\n    observeArray(data){\n        data.forEach(item => {\n            observe(item);\n        })\n    }\n    walk(data){\n        const keys = Object.keys(data);\n        keys.forEach(key => {\n            defineReactive(data, key, data[key]); \n        })\n    }\n}\n//Vue.util.defineReactive 把对象的某个属性变成响应式\nfunction defineReactive(data, key, value) {\n    let ob = observe(value);\n    let dep = new Dep(); //每个属性都有一个dep dep用来存watcher\n    Object.defineProperty(data, key, {\n        //当页面取值时，说明这个值用来渲染了，那么我就将这个watcher和这个属性对应起来\n        //收集watcher\n        get(){\n            if (Dep.target) { //让这个属性的dep记住这个watcher\n                dep.depend();\n                if (ob) {\n                    ob.dep.depend();\n                }\n            }\n            return value\n        },\n        //更新watcher\n        set(newValue){\n            if(value === newValue) return ;\n            observe(newValue);\n            value = newValue;\n            dep.notify();\n        }\n    })\n}\n\n\n\nexport function observe(data) {\n    if(typeof data !== \"object\" || data == null || data.__ob__){\n        return ;\n    }\n    return new Observer(data);\n}","import {\n    observe\n} from \"./observer/index\";\nimport {\n    nextTick,\n    proxy\n} from \"./util\";\n\nexport function initState(vm) {\n    const opts = vm.$options;\n    //按照优先级先后初始化，如果后面的和前面的重名了，怎么怎么样\n    if (opts.props) {\n        initProps(vm);\n    }\n    if (opts.methods) {\n        initMethods(vm);\n    }\n    if (opts.data) {\n        initData(vm);\n    }\n    if (opts.watch) {\n        initWatch(vm);\n    }\n    if (opts.computed) {\n        initComputed(vm);\n    }\n}\n\nfunction initProps() {}\n\nfunction initMethods() {}\n\nfunction initData(vm) {\n    let data = vm.$options.data;\n    //保存所有data，\n    vm._data = data = typeof data ? data.call(vm) : data;\n\n    //把vm.arr 代理到 vm._data.arr 实现真正的获取data\n    for (const key in data) {\n        proxy(vm, \"_data\", key);\n    }\n    //有对象了 就要劫持 \n    //对象的劫持方案：object.defineProperty();\n    //对象里嵌套数组的劫持方案: 单独处理\n    observe(data); //让对象重新定义set get\n}\n\nfunction initWatch() {}\n\nfunction initComputed() {}\n\nexport function stateMixin(Vue) {\n    Vue.prototype.$nextTick = function (cb) {\n        nextTick(cb);\n    }\n}","import { compileToFunctions } from \"./compiler/index\";\nimport { callHook, mountComponent } from \"./lifecycle\";\nimport { initState } from \"./state\";\nimport { mergeOptions } from \"./util\";\n\nexport function initMixin(Vue) {\n    Vue.prototype._init = function (options) {\n        const vm = this;\n        vm.$options = mergeOptions(vm.constructor.options, options);\n        callHook(vm, 'beforeCreate');\n        //所有初始化操作，都在initState里\n        initState(vm);\n        callHook(vm, 'created');\n        // initEvents();\n        //需要渲染元素\n        if (vm.$options.el) {\n            vm.$mount(vm.$options.el);\n        }\n    }\n\n    Vue.prototype.$mount = function (el) {\n        const vm = this;\n        const options = vm.$options;\n        el = document.querySelector(el);\n        vm.$el = el;\n        //按照优先级处理，保证最后统一为 render函数渲染\n        if (!options.render) {\n            let template = options.template;\n            if (!template && el) {\n                template = el.outerHTML;\n            }\n            const render = compileToFunctions(template);\n            options.render = render;\n        }\n        //这里保证有render方法，开始渲染挂载元素\n        mountComponent(vm, el)\n    }\n}","export function renderMixin(Vue){\n    //创建元素\n    Vue.prototype._c = function(){\n        return createElement(...arguments);\n    }\n    //stringify\n    Vue.prototype._s = function(val){\n        return val == null ? \"\" : typeof val === \"object\" ? JSON.stringify(val) : val;\n    }\n    //创建文本元素\n    Vue.prototype._v = function(text){\n        return createTextVnode(text);\n    }\n \n    Vue.prototype._render = function(){\n        const vm = this;\n        const render = vm.$options.render;\n        let vnode = render.call(vm);\n        return vnode ;\n    }\n}\n\nfunction createElement(tag, data={}, ...children){\n    return vnode(tag, data, data.key, children);\n}\n\nfunction createTextVnode(text){\n    return vnode(undefined, undefined, undefined, undefined, text);\n}\n\n//产生虚拟dom的\nfunction vnode(tag, data, key, children, text){\n    return {\n        tag,\n        data,\n        key,\n        children,\n        text\n    }\n}","import { initGlobalApi } from \"./global-api/index\";\nimport { initMixin } from \"./init\";\nimport { lifecycleMixin } from \"./lifecycle\";\nimport { renderMixin } from \"./vdom/index\";\nimport { stateMixin } from './state'\n/**\n * Vue 类的声明\n * @param {object} options 用户 new Vue() 时传的配置对象\n */\nfunction Vue(options) {\n    this._init(options); //组件初始化的入口\n}\n\n//Vue把原型方法拆成一个一个又一个的插件，利于拆分，结构拆分，所有原型拓展都在这里\n//插件1：初始化操作都在这里\ninitMixin(Vue);\n//插件2：生命周期，其实就是渲染 指的是组件的生命周期 不是常规的生命周期  组件的挂载、更新\nlifecycleMixin(Vue);\n//插件3：render生成虚拟dom\nrenderMixin(Vue);\n//nextTick\nstateMixin(Vue);\n\n\n//静态方法\ninitGlobalApi(Vue);\n\n\nexport default Vue;"],"names":["proxy","vm","data","key","Object","defineProperty","get","set","newValue","value","enumerable","configurable","LIFECYCLE_HOOKS","strats","parentVal","childVal","computed","watch","mergeHook","concat","forEach","hook","mergeOptions","parent","child","options","mergeField","hasOwnProperty","callbacks","pending","flushCallbacks","length","cb","pop","timerFunc","Promise","resolve","then","MutationObserver","observer","textNode","document","createTextNode","observe","characterData","textContent","setImmediate","setTimeout","nextTick","push","initGlobalApi","Vue","mixin","genProps","attrs","str","attr","name","obj","split","item","JSON","stringify","slice","defaultTagRE","gen","node","type","generate","text","test","tokens","lastIndex","match","index","exec","trim","join","genChildren","el","children","map","code","tag","unicodeRegExp","attribute","ncname","source","qnameCapture","startTagOpen","RegExp","startTagClose","endTag","parseHTML","html","createASTElement","tagName","root","currentParent","stack","start","element","end","chars","replace","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","advance","substring","n","compileToFunctions","template","ast","render","Function","id","Dep","subs","target","addDep","watcher","update","pushTarget","popTarget","Watcher","exprOrFn","deps","depsId","Set","getter","dep","has","add","addSub","queueWatcher","queue","flushSchedulerQueue","run","patch","oldVnode","vnode","createElm","parentElm","parentNode","insertBefore","nextSibiling","removeChild","createElement","updateProperties","appendChild","newProps","styleName","style","className","setAttribute","lifecycleMixin","prototype","_update","$el","mountComponent","callHook","updateComponent","_render","handlers","$options","i","call","oldArrayProtoMethods","Array","arrayMethods","create","methods","method","ob","__ob__","args","result","apply","inserted","observeArray","notify","Observer","isArray","__proto__","walk","keys","defineReactive","depend","initState","opts","props","initData","_data","stateMixin","$nextTick","initMixin","_init","constructor","$mount","querySelector","outerHTML","renderMixin","_c","arguments","_s","val","_v","createTextVnode","undefined"],"mappings":"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"}